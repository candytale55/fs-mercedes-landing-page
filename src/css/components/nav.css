/* Navigation styles */

.header-layout {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: var(--nav-section-gap);
}

/* ==== Primary nav: logo + Secondary nav  ==== */

.main-nav {
  display: flex;
  align-items: center;
  gap: var(--nav-section-gap);
}

/* Secondary nav: icons + burger aligned right */

.secondary-nav {
  flex: 0 0 auto; /* prevent shrinking and growing */
  justify-self: end; /* align to right edge of grid cell */
  white-space: nowrap; /* prevent wrapping of icons */
}

.secondary-nav-list {
  display: flex;
  flex-direction: row;
  justify-content: end;
  align-items: center;
  gap: var(--nav-section-gap);
}


/* ===== Mobile overlay menu (closed by default) ===== */

@media (max-width: 549px) {
  #primary-menu.main-nav-list {
    position: fixed;
    inset: 0; /* top/right/bottom/left: 0 */
    z-index: 1000; /* above other content */

    display: flex;
    flex-direction: column;
    gap: var(--spacing-section-medium);
    align-items: center;

    margin: 0;
    padding: var(--spacing-section-large) 0;

    background-color: var(--color-background-page);
    color: var(--color-text-primary);

    /* "closed" state */
    transform: translateX(100%);
    visibility: hidden;
    pointer-events: none; /* prevent interaction when closed */

    /* Only animate transform and visibility, NOT opacity */
    transition:
      transform var(--transition-speed) var(--transition-timing),
      visibility 0s var(--transition-speed);
  }

  /* Hide content when menu is closed */
  #primary-menu.main-nav-list > * {
    opacity: 0;
    transition: opacity 0.15s ease-in-out;
  }

  /* Open menu */
  #primary-menu.main-nav-list.is-open {
    transform: translateX(0);
    visibility: visible;
    pointer-events: auto; /* Restore interaction when open */
    transition-delay: 0s;
  }

  /* Show content when menu is open (with slight delay) */
  #primary-menu.main-nav-list.is-open > * {
    opacity: 1;
    transition-delay: 0.2s; /* Wait for menu slide to nearly finish */
  }

  /* Bigger link text only in overlay */
  .nav-link {
    font-size: var(--font-size-mobile-menu);
  }

  /* Close button */
  .nav-close {
    position: absolute;
    top: var(--spacing-page);
    right: var(--spacing-page);
    font-size: var(--font-size-mobile-menu);
    line-height: 1;
  }
}




/* ===== Desktop nav overlay ===== */

@media (min-width: 550px) {
  /* Show primary menu on desktop */
  #primary-menu.main-nav-list {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: var(--nav-section-gap);

    /* Reset mobile-only properties */
    position: static;
    transform: none;
    visibility: visible;
    pointer-events: auto;
    opacity: 1;
    
    /* Disable transitions on desktop to prevent flash */
    transition: none !important;
  }

  /* Ensure content is visible on desktop */
  #primary-menu.main-nav-list > * {
    opacity: 1;
    transition: none;
  }

  /* Hide mobile nav toggles on desktop */
  .nav-toggle,
  .nav-close {
    display: none;
  }
}
